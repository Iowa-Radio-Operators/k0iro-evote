{% extends "base.html" %}

{% block content %}
<h2>Add Options to Vote: {{ vote['title'] }}</h2>

<form method="POST" action="/admin/votes/{{ vote['id'] }}/options/add">
    <label>Option Text:</label>
    <input type="text" name="option_text" required>
    <button type="submit">Add Option</button>
</form>

<h3>Current Options</h3>
<ul>
    {% for opt in options %}
        <li>
            <form method="POST" action="{{ url_for('admin_votes.edit_option', option_id=opt['id']) }}" style="display:inline;">
                <input type="text" name="option_text" value="{{ opt['option_text'] }}" required>
                <button type="submit">Update</button>
            </form>
            <a href="{{ url_for('admin_votes.delete_option', option_id=opt['id']) }}" 
               onclick="return confirm('Are you sure you want to delete this option?')"
               style="color: red; margin-left: 10px;">Delete</a>
        </li>
    {% endfor %}
</ul>

<a href="/admin">Back to Admin Dashboard</a>
{% endblock %}